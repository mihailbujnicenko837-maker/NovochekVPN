<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Novochek VPN</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<style>
:root{
  --bg:#0f0f11;
  --glass:rgba(30,30,35,.7);
  --border:rgba(255,255,255,.08);
  --primary:#2cabff;
  --success:#32d74b;
  --danger:#ff453a;
  --text:#fff;
  --muted:#8e8e93;
  --nav-h:80px;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display",Roboto;
  background:var(--bg);
  color:var(--text);
  height:100vh;
  overflow:hidden;
}

/* ===== BACKGROUND (soft, black & white) ===== */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:url("bg.jpg.jpg") center/cover no-repeat;
  filter:grayscale(100%) blur(6px) contrast(1.05);
  opacity:.25;
  z-index:-2;
}
body::after{
  content:"";
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top,rgba(0,0,0,.35),rgba(0,0,0,.9));
  z-index:-1;
}

/* ===== FILM GRAIN ===== */
.grain{
  pointer-events:none;
  position:fixed;
  inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='0.15'/%3E%3C/svg%3E");
  opacity:.12;
  z-index:5;
}

/* ===== LAUNCH SCREEN ===== */
#launch{
  position:fixed;
  inset:0;
  background:#0b0b0d;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
  animation:launchOut .8s ease forwards;
  animation-delay:2.2s;
}
#launch h1{
  margin:0 0 18px;
  font-size:30px;
  font-weight:800;
}
#launch span{color:#9aa0a6}
.loader{
  width:36px;height:36px;
  border-radius:50%;
  border:3px solid rgba(255,255,255,.15);
  border-top-color:#9aa0a6;
  animation:spin 1s linear infinite;
  margin:auto;
}
@keyframes spin{to{transform:rotate(360deg)}}
@keyframes launchOut{to{opacity:0;pointer-events:none}}

/* ===== LAYOUT ===== */
.app{height:100%;display:flex;flex-direction:column}
.scroll{flex:1;overflow-y:auto;padding:20px;padding-bottom:110px}

/* ===== HEADER ===== */
.header{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}
.user-info h2{margin:0;font-size:26px;font-weight:800}
.user-info p{margin:4px 0 0;font-size:13px;color:var(--muted)}
.status{
  font-size:12px;
  padding:6px 12px;
  border-radius:20px;
  background:rgba(255,255,255,.1);
  display:flex;align-items:center;gap:6px
}
.dot{width:8px;height:8px;border-radius:50%;background:var(--danger)}
.dot.active{background:var(--success)}

/* ===== MAIN CARD ===== */
.card{
  background:linear-gradient(145deg,rgba(255,255,255,.05),rgba(255,255,255,.01));
  border:1px solid var(--border);
  border-radius:30px;
  padding:36px 20px;
  text-align:center;
  margin-bottom:20px
}
.shield{
  width:140px;height:140px;
  margin:0 auto 18px;
  border-radius:50%;
  background:rgba(0,0,0,.3);
  display:flex;align-items:center;justify-content:center;
  border:1px solid var(--border)
}
.shield i{font-size:58px;color:var(--muted)}
.card.active i{color:var(--success)}

.info{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:22px}
.box{
  background:rgba(255,255,255,.03);
  border-radius:18px;
  padding:14px;
  border:1px solid var(--border)
}
.label{font-size:11px;color:var(--muted)}
.value{font-size:15px;font-weight:600}

.btn{
  background:var(--primary);
  border:none;
  width:100%;
  padding:18px;
  border-radius:20px;
  color:#fff;
  font-weight:700;
}
.btn:active{transform:scale(.97)}

.section{display:none}
.section.active{display:block}

/* ===== GUIDE ===== */
.guide-step{
  display:flex;gap:14px;
  background:rgba(255,255,255,.03);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  margin-bottom:14px
}
.gs{
  width:28px;height:28px;
  border-radius:8px;
  background:var(--primary);
  color:#000;
  display:flex;align-items:center;justify-content:center;
  font-weight:800
}
.guide-step h4{margin:0 0 6px;font-size:15px}
.guide-step p{margin:0;font-size:13px;color:var(--muted);line-height:1.4}

/* ===== NAV ===== */
.nav{
  position:fixed;
  bottom:0;left:0;
  width:100%;height:var(--nav-h);
  background:rgba(20,20,23,.85);
  backdrop-filter:blur(20px);
  border-top:1px solid var(--border);
  display:flex;justify-content:space-around;align-items:center
}
.nav button{
  background:none;border:none;
  color:var(--muted);
  font-size:11px
}
.nav button.active{color:var(--primary)}
</style>
</head>

<body>

<div id="launch">
  <div>
    <h1>Novochek <span>VPN</span></h1>
    <div class="loader"></div>
  </div>
</div>

<div class="grain"></div>
<canvas id="snow-canvas"></canvas>

<div class="app">
  <div class="scroll">

    <div class="header">
      <div class="user-info">
        <h2 id="userName">Привет!</h2>
        <p>Novochek VPN</p>
      </div>
      <div class="status">
        <div class="dot" id="statusDot"></div>
        <span id="statusText">Disconnected</span>
      </div>
    </div>

    <div id="home" class="section active">
      <div class="card">
        <div class="shield"><i class="fas fa-shield-alt"></i></div>
        <h3>Вы не защищены</h3>
        <p style="color:var(--muted)">Нажмите кнопку ниже, чтобы получить доступ</p>
      </div>

      <div class="info">
        <div class="box">
          <span class="label">Ваш IP адрес</span>
          <span class="value" id="ip">Скрыт</span>
        </div>
        <div class="box">
          <span class="label">Локация</span>
          <span class="value" id="loc">—</span>
        </div>
      </div>

      <button class="btn" onclick="buy()">⚡ ПОЛУЧИТЬ ДОСТУП</button>
    </div>

    <div id="profile" class="section">
      <div class="card">
        <h3>Мой аккаунт</h3>
        <p style="color:var(--muted)">Telegram ID и подписка</p>
      </div>
    </div>

    <div id="guide" class="section">
      <h3 style="margin-bottom:18px">Как подключиться</h3>

      <div class="guide-step"><div class="gs">1</div><div><h4>Установите приложение</h4><p>V2Box (iOS) или Hiddify (Android)</p></div></div>
      <div class="guide-step"><div class="gs">2</div><div><h4>Купите подписку</h4><p>Бот выдаст ключ формата vless://</p></div></div>
      <div class="guide-step"><div class="gs">3</div><div><h4>Импортируйте ключ</h4><p>Добавьте ключ в приложение</p></div></div>
      <div class="guide-step"><div class="gs">4</div><div><h4>Нажмите «Старт»</h4><p>Интернет станет защищённым</p></div></div>
    </div>

  </div>

  <div class="nav">
    <button class="active" onclick="tab('home',this)">Главная</button>
    <button onclick="tab('profile',this)">Профиль</button>
    <button onclick="tab('guide',this)">Гайд</button>
  </div>
</div>

<script>
const tg=window.Telegram.WebApp;
tg.expand();

if(tg.initDataUnsafe.user){
  userName.textContent="Привет, "+tg.initDataUnsafe.user.first_name+"!";
}

function tab(id,btn){
  document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  document.querySelectorAll('.nav button').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}

function buy(){
  tg.sendData(JSON.stringify({action:"buy_subscription"}));
}

/* SNOW */
(()=>{const c=document.getElementById("snow-canvas"),ctx=c.getContext("2d");
let w=c.width=innerWidth,h=c.height=innerHeight;
const f=[...Array(30)].map(()=>({x:Math.random()*w,y:Math.random()*h,r:Math.random()*2+1,s:Math.random()+.5}));
(function loop(){
ctx.clearRect(0,0,w,h);
ctx.fillStyle="rgba(255,255,255,.4)";
ctx.beginPath();
f.forEach(e=>{e.y+=e.s;e.x+=Math.sin(e.y/50)*.5;if(e.y>h)e.y=-5;ctx.moveTo(e.x,e.y);ctx.arc(e.x,e.y,e.r,0,7)});
ctx.fill();requestAnimationFrame(loop);
})();})();
</script>

</body>
</html>
